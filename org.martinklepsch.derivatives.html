<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>org.martinklepsch.derivatives documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Derivatives</span> <span class="project-version">0.2.0</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>org</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>martinklepsch</span></div></div></li><li class="depth-3 branch current"><a href="org.martinklepsch.derivatives.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>derivatives</span></div></a></li><li class="depth-3"><a href="org.martinklepsch.derived.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>derived</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="org.martinklepsch.derivatives.html#var-*derivatives*"><div class="inner"><span>*derivatives*</span></div></a></li><li class="depth-1"><a href="org.martinklepsch.derivatives.html#var-build"><div class="inner"><span>build</span></div></a></li><li class="depth-1"><a href="org.martinklepsch.derivatives.html#var-calc-deps"><div class="inner"><span>calc-deps</span></div></a></li><li class="depth-1"><a href="org.martinklepsch.derivatives.html#var-depend.27"><div class="inner"><span>depend'</span></div></a></li><li class="depth-1"><a href="org.martinklepsch.derivatives.html#var-derivatives-pool"><div class="inner"><span>derivatives-pool</span></div></a></li><li class="depth-1"><a href="org.martinklepsch.derivatives.html#var-drv"><div class="inner"><span>drv</span></div></a></li><li class="depth-1"><a href="org.martinklepsch.derivatives.html#var-get-ref"><div class="inner"><span>get-ref</span></div></a></li><li class="depth-1"><a href="org.martinklepsch.derivatives.html#var-IDerivativesPool"><div class="inner"><span>IDerivativesPool</span></div></a></li><li class="depth-2 branch"><a href="org.martinklepsch.derivatives.html#var-get.21"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>get!</span></div></a></li><li class="depth-2"><a href="org.martinklepsch.derivatives.html#var-release.21"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>release!</span></div></a></li><li class="depth-1"><a href="org.martinklepsch.derivatives.html#var-not-required"><div class="inner"><span>not-required</span></div></a></li><li class="depth-1"><a href="org.martinklepsch.derivatives.html#var-prefix-id"><div class="inner"><span>prefix-id</span></div></a></li><li class="depth-1"><a href="org.martinklepsch.derivatives.html#var-react"><div class="inner"><span>react</span></div></a></li><li class="depth-1"><a href="org.martinklepsch.derivatives.html#var-react-all"><div class="inner"><span>react-all</span></div></a></li><li class="depth-1"><a href="org.martinklepsch.derivatives.html#var-rum-derivatives"><div class="inner"><span>rum-derivatives</span></div></a></li><li class="depth-1"><a href="org.martinklepsch.derivatives.html#var-rum-derivatives*"><div class="inner"><span>rum-derivatives*</span></div></a></li><li class="depth-1"><a href="org.martinklepsch.derivatives.html#var-spec-.3Egraph"><div class="inner"><span>spec-&gt;graph</span></div></a></li><li class="depth-1"><a href="org.martinklepsch.derivatives.html#var-sync-derivatives.21"><div class="inner"><span>sync-derivatives!</span></div></a></li><li class="depth-1"><a href="org.martinklepsch.derivatives.html#var-watchable.3F"><div class="inner"><span>watchable?</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">org.martinklepsch.derivatives</h1><div class="doc"><pre class="plaintext"></pre></div><div class="public anchor" id="var-*derivatives*"><h3>*derivatives*</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-build"><h3>build</h3><div class="usage"><code>(build spec)</code></div><div class="doc"><pre class="plaintext">Given a spec return a map of similar structure replacing it's values with
derived atoms built based on the depedency information encoded in the spec

WARNING: This will create derived atoms for all keys so it may lead
to some uneccesary computations To avoid this issue consider using
`derivatives-pool` which manages derivatives in a registry
removing them as soon as they become unused</pre></div></div><div class="public anchor" id="var-calc-deps"><h3>calc-deps</h3><div class="usage"><code>(calc-deps graph ks)</code></div><div class="doc"><pre class="plaintext">Calculate all dependencies for `ks` and return a set with the dependencies and `ks`
</pre></div></div><div class="public anchor" id="var-depend.27"><h3>depend'</h3><div class="usage"><code>(depend' graph node deps)</code></div><div class="doc"><pre class="plaintext">Variation of `depend` that takes a list of dependencies instead of one
</pre></div></div><div class="public anchor" id="var-derivatives-pool"><h3>derivatives-pool</h3><div class="usage"><code>(derivatives-pool spec)</code></div><div class="doc"><pre class="plaintext">Given a derivatives spec return a map with `get!` and `free!` functions.

- (get! derivative-id token) will retrieve a derivative for
  `derivative-id` registering the usage with `token`
- (free! derivative-id token) will indicate the derivative `derivative-id`
  is no longer needed by `token`, if there are no more tokens needing
  the derivative it will be removed</pre></div></div><div class="public anchor" id="var-drv"><h3>drv</h3><div class="usage"><code>(drv &amp; drv-ks)</code></div><div class="doc"><pre class="plaintext">Rum mixin to retrieve derivatives for `drv-ks` using the functions in the component context
To get the derived-atom use `get-ref` for swappable client/server behavior</pre></div></div><div class="public anchor" id="var-get-ref"><h3>get-ref</h3><div class="usage"><code>(get-ref state drv-k)</code></div><div class="doc"><pre class="plaintext">Get the derivative identified by `drv-k` from the component state.
When rendering in Clojure this looks for `drv-k` in the dynvar `*derivatives`</pre></div></div><div class="public anchor" id="var-IDerivativesPool"><h3>IDerivativesPool</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-get.21"><h3>get!</h3><div class="usage"><code>(get! this drv-k token)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-release.21"><h3>release!</h3><div class="usage"><code>(release! this drv-k token)</code></div><div class="doc"><pre class="plaintext"></pre></div></div></div></div></div><div class="public anchor" id="var-not-required"><h3>not-required</h3><div class="usage"><code>(not-required drv-map required?)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-prefix-id"><h3>prefix-id</h3><div class="usage"><code>(prefix-id)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-react"><h3>react</h3><div class="usage"><code>(react state drv-k)</code></div><div class="doc"><pre class="plaintext">Like `get-ref` wrapped in `rum.core/react`
</pre></div></div><div class="public anchor" id="var-react-all"><h3>react-all</h3><div class="usage"><code>(react-all state &amp; ks)</code></div><div class="doc"><pre class="plaintext">React to multiple derivatives in the components state.
If any `ks` are passed, react to those and return their values
in a map. If no `ks` is passed return all available derivatives
deref'ed as a map.</pre></div></div><div class="public anchor" id="var-rum-derivatives"><h3>rum-derivatives</h3><div class="usage"><code>(rum-derivatives spec)</code></div><div class="doc"><pre class="plaintext">Given the passed spec add get!/release! derivative functions to
the child context so they can be seen by components using the `deriv`
mixin.</pre></div></div><div class="public anchor" id="var-rum-derivatives*"><h3>rum-derivatives*</h3><div class="usage"><code>(rum-derivatives* get-spec-fn)</code></div><div class="doc"><pre class="plaintext">Like rum-derivatives but get the spec from the arguments passed to the components (`:rum/args`) using `get-spec-fn`
</pre></div></div><div class="public anchor" id="var-spec-.3Egraph"><h3>spec-&gt;graph</h3><div class="usage"><code>(spec-&gt;graph spec)</code></div><div class="doc"><pre class="plaintext">Turn a given spec into a dependency graph
</pre></div></div><div class="public anchor" id="var-sync-derivatives.21"><h3>sync-derivatives!</h3><div class="usage"><code>(sync-derivatives! spec watch-key-prefix drv-map order)</code></div><div class="doc"><pre class="plaintext">Update the derivatives map `drv-map` so that all keys passed in `order`
are statisfied and any superfluous keys are removed.
Values of superfluous keys that implement IDisposable they will also be disposed.</pre></div></div><div class="public anchor" id="var-watchable.3F"><h3>watchable?</h3><div class="usage"><code>(watchable? x)</code></div><div class="doc"><pre class="plaintext">Platform-agnostic helper to determine if something is watchable (atom, etc)
</pre></div></div></div></body></html>